/*! For license information please see index.cf9cc679.js.LICENSE.txt */
!function(){"use strict";const t={};function e(e){t.context=e}const n=(t,e)=>t===e,r=Symbol("solid-proxy"),o={equals:n};let i=null,s=Y;const l={},u={owned:null,cleanups:null,context:null,owner:null},[c,a]=w(!1);var d=null;let f=null,p=null,h=null,v=null,y=null,b=null,g=0;function m(t,e){e&&(d=e);const n=h,r=d,o=0===t.length?u:{owned:null,cleanups:null,context:null,owner:r};let i;d=o,h=null;try{I((()=>i=t((()=>L(o)))),!0)}finally{h=n,d=r}return i}function w(t,e){e=e?Object.assign({},o,e):o;const n={value:t,observers:null,observerSlots:null,pending:l,comparator:e.equals||void 0};return[_.bind(n),t=>("function"==typeof t&&(t=f&&f.running&&f.sources.has(n)?t(n.pending!==l?n.pending:n.tValue):t(n.pending!==l?n.pending:n.value)),A(n,t))]}function S(t,e,n){const r=N(t,e,!0,1);p&&f&&f.running?y.push(r):D(r)}function x(t,e,n){const r=N(t,e,!1,1);p&&f&&f.running?y.push(r):D(r)}function k(t,e,n){n=n?Object.assign({},o,n):o;const r=N(t,e,!0,0);return r.pending=l,r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,p&&f&&f.running?(r.tState=1,y.push(r)):D(r),_.bind(r)}function C(t){if(v)return t();let e;const n=v=[];try{e=t()}finally{v=null}return I((()=>{for(let t=0;t<n.length;t+=1){const e=n[t];if(e.pending!==l){const t=e.pending;e.pending=l,A(e,t)}}}),!1),e}function T(t){let e,n=h;return h=null,e=t(),h=n,e}function P(t){const e=Symbol("context");return{id:e,Provider:z(e),defaultValue:t}}function E(t){const e=k(t);return k((()=>B(e())))}function _(){const t=f&&f.running;if(this.sources&&(!t&&this.state||t&&this.tState)){const e=y;y=null,!t&&1===this.state||t&&1===this.tState?D(this):O(this),y=e}if(h){const t=this.observers?this.observers.length:0;h.sources?(h.sources.push(this),h.sourceSlots.push(t)):(h.sources=[this],h.sourceSlots=[t]),this.observers?(this.observers.push(h),this.observerSlots.push(h.sources.length-1)):(this.observers=[h],this.observerSlots=[h.sources.length-1])}return t&&f.sources.has(this)?this.tValue:this.value}function A(t,e,n){if(t.comparator)if(f&&f.running&&f.sources.has(t)){if(t.comparator(t.tValue,e))return e}else if(t.comparator(t.value,e))return e;if(v)return t.pending===l&&v.push(t),t.pending=e,e;let r=!1;return f?(r=f.running,(r||!n&&f.sources.has(t))&&(f.sources.add(t),t.tValue=e),r||(t.value=e)):t.value=e,t.observers&&t.observers.length&&I((()=>{for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];r&&f.disposed.has(n)||(n.pure?y.push(n):b.push(n),n.observers&&(r&&!n.tState||!r&&!n.state)&&j(n),r?n.tState=1:n.state=1)}if(y.length>1e6)throw y=[],new Error}),!1),e}function D(t){if(!t.fn)return;L(t);const e=d,n=h,r=g;h=d=t,M(t,f&&f.running&&f.sources.has(t)?t.tValue:t.value,r),f&&!f.running&&f.sources.has(t)&&queueMicrotask((()=>{I((()=>{f&&(f.running=!0),M(t,t.tValue,r)}),!1)})),h=n,d=e}function M(t,e,n){let r;try{r=t.fn(e)}catch(o){F(o)}(!t.updatedAt||t.updatedAt<=n)&&(t.observers&&t.observers.length?A(t,r,!0):f&&f.running&&t.pure?(f.sources.add(t),t.tValue=r):t.value=r,t.updatedAt=n)}function N(t,e,n,r=1,o){const i={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:d,context:null,pure:n};return f&&f.running&&(i.state=0,i.tState=r),null===d||d!==u&&(f&&f.running&&d.pure?d.tOwned?d.tOwned.push(i):d.tOwned=[i]:d.owned?d.owned.push(i):d.owned=[i]),i}function $(t){const e=f&&f.running;if(!e&&1!==t.state)return t.state=0;if(e&&1!==t.tState)return t.tState=0;if(t.suspense&&T(t.suspense.inFallback))return t.suspense.effects.push(t);const n=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<g);){if(e&&f.disposed.has(t))return;(!e&&t.state||e&&t.tState)&&n.push(t)}for(let r=n.length-1;r>=0;r--){if(t=n[r],e){let e=t,o=n[r+1];for(;(e=e.owner)&&e!==o;)if(f.disposed.has(e))return}if(!e&&1===t.state||e&&1===t.tState)D(t);else if(!e&&2===t.state||e&&2===t.tState){const e=y;y=null,O(t),y=e}}}function I(t,e){if(y)return t();let n=!1;e||(y=[]),b?n=!0:b=[],g++;try{t()}catch(r){F(r)}finally{!function(t){y&&(p&&f&&f.running?function(t){for(let e=0;e<t.length;e++){const n=t[e],r=f.queue;r.has(n)||(r.add(n),p((()=>{r.delete(n),I((()=>{f.running=!0,$(n),r.size||(b.push.apply(b,f.effects),f.effects=[])}),!1),f&&(f.running=!1)})))}}(y):Y(y),y=null);if(t)return;let e;if(f&&f.running){if(f.promises.size||f.queue.size)return f.running=!1,f.effects.push.apply(f.effects,b),b=null,void a(!0);const t=f.sources;e=f.cb,b.forEach((t=>{"tState"in t&&(t.state=t.tState),delete t.tState})),f=null,C((()=>{t.forEach((t=>{if(t.value=t.tValue,t.owned)for(let e=0,n=t.owned.length;e<n;e++)L(t.owned[e]);t.tOwned&&(t.owned=t.tOwned),delete t.tValue,delete t.tOwned,t.tState=0})),a(!1)}))}b.length?C((()=>{s(b),b=null})):b=null;e&&e.forEach((t=>t()))}(n)}}function Y(t){for(let e=0;e<t.length;e++)$(t[e])}function O(t){t.state=0;const e=f&&f.running;for(let n=0;n<t.sources.length;n+=1){const r=t.sources[n];r.sources&&(!e&&1===r.state||e&&1===r.tState?$(r):(!e&&2===r.state||e&&2===r.tState)&&O(r))}}function j(t){const e=f&&f.running;for(let n=0;n<t.observers.length;n+=1){const r=t.observers[n];(!e&&!r.state||e&&!r.tState)&&(e?r.tState=2:r.state=2,r.pure?y.push(r):b.push(r),r.observers&&j(r))}}function L(t){let e;if(t.sources)for(;t.sources.length;){const e=t.sources.pop(),n=t.sourceSlots.pop(),r=e.observers;if(r&&r.length){const t=r.pop(),o=e.observerSlots.pop();n<r.length&&(t.sourceSlots[o]=n,r[n]=t,e.observerSlots[n]=o)}}if(f&&f.running&&t.pure){if(t.tOwned){for(e=0;e<t.tOwned.length;e++)L(t.tOwned[e]);delete t.tOwned}H(t,!0)}else if(t.owned){for(e=0;e<t.owned.length;e++)L(t.owned[e]);t.owned=null}if(t.cleanups){for(e=0;e<t.cleanups.length;e++)t.cleanups[e]();t.cleanups=null}f&&f.running?t.tState=0:t.state=0,t.context=null}function H(t,e){if(e||(t.tState=0,f.disposed.add(t)),t.owned)for(let n=0;n<t.owned.length;n++)H(t.owned[n])}function F(t){const e=i&&q(d,i);if(!e)throw t;e.forEach((e=>e(t)))}function q(t,e){return t&&(t.context&&t.context[e]||t.owner&&q(t.owner,e))}function B(t){if("function"==typeof t&&!t.length)return B(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const r=B(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}function z(t){return function(e){let n;return S((()=>n=T((()=>(d.context={[t]:e.value},E((()=>e.children))))))),n}}Symbol("fallback");function W(n,r){if(t.context){const o=t.context;e({...t.context,id:`${t.context.id}${t.context.count++}.`,count:0});const i=T((()=>n(r)));return e(o),i}return T((()=>n(r)))}function V(){return!0}const G={get:(t,e,n)=>e===r?n:t.get(e),has:(t,e)=>t.has(e),set:V,deleteProperty:V,getOwnPropertyDescriptor:(t,e)=>({configurable:!0,enumerable:!0,get:()=>t.get(e),set:V,deleteProperty:V}),ownKeys:t=>t.keys()};function R(t){return"function"==typeof t?t():t}P();function K(t,{id:e,className:n}={}){e&&(t.id=e),n&&(t.classList.remove(n),t.classList.add(n))}function U(t,e){const n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",t),K(n,e),function(t){const e=document.getElementsByTagName("head");e.length?e[0].appendChild(t):document.documentElement.appendChild(t)}(n)}function J(t,e){const n=document.createElement("script");n.setAttribute("defer",""),n.setAttribute("type","text/javascript"),n.setAttribute("src",t),K(n,e),function(t){const e=document.getElementsByTagName("head");e.length?e[0].insertBefore(t,document.querySelector("script")??e[0].children[0]):document.documentElement.insertBefore(t,document.querySelector("script"))}(n)}function Q(){const t="ht-attendance-bootstrap-css";document.querySelector(`#${t}`)||(U("https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.0.2/css/bootstrap.min.css",{id:t}),J("https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.0.2/js/bootstrap.bundle.min.js"))}function X(){const t=document.createElement("style");t.innerHTML="\n#ht-attendance-root .btn-sm {\n  font-size: 12px !important;\n}\n\n.bs-tooltip-top {\n  z-index: 999999;\n}\n",document.head.appendChild(t)}if(!function(){const t=location.href;return t.includes("oa.hengtonggroup.com.cn")?!t.includes("/Login.jsp")||(alert("请先登录"),!1):(window.open("https://oa.hengtonggroup.com.cn/wui/main.jsp"),!1)}())throw new Error("不支持当前网站");Q(),X(),Q(),X();var Z=function(t,e){return Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Z(t,e)};function tt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Z(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function et(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(e){i(e)}}function l(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,l)}u((r=r.apply(t,e||[])).next())}))}function nt(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(l){i=[6,l],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}Object.create;function rt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ot(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function it(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t}function st(t){return this instanceof st?(this.v=t,this):new st(t)}function lt(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){i.push([t,e,n,r])>1||l(t,e)}))})}function l(t,e){try{(n=o[t](e)).value instanceof st?Promise.resolve(n.value.v).then(u,c):a(i[0][2],n)}catch(r){a(i[0][3],r)}var n}function u(t){l("next",t)}function c(t){l("throw",t)}function a(t,e){t(e),i.shift(),i.length&&l(i[0][0],i[0][1])}}function ut(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=rt(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(e=t[n](e)).done,e.value)}))}}}Object.create;function ct(t){return"function"==typeof t}function at(t){var e=t((function(t){Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var dt=at((function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}));function ft(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var pt=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}var e;return t.prototype.unsubscribe=function(){var t,e,n,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var s=rt(i),l=s.next();!l.done;l=s.next()){l.value.remove(this)}}catch(p){t={error:p}}finally{try{l&&!l.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}else i.remove(this);var u=this.initialTeardown;if(ct(u))try{u()}catch(h){o=h instanceof dt?h.errors:[h]}var c=this._teardowns;if(c){this._teardowns=null;try{for(var a=rt(c),d=a.next();!d.done;d=a.next()){var f=d.value;try{yt(f)}catch(v){o=null!=o?o:[],v instanceof dt?o=it(it([],ot(o)),ot(v.errors)):o.push(v)}}}catch(y){n={error:y}}finally{try{d&&!d.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}if(o)throw new dt(o)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)yt(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&ft(e,t)},t.prototype.remove=function(e){var n=this._teardowns;n&&ft(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),ht=pt.EMPTY;function vt(t){return t instanceof pt||t&&"closed"in t&&ct(t.remove)&&ct(t.add)&&ct(t.unsubscribe)}function yt(t){ct(t)?t():t.unsubscribe()}var bt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},gt={setTimeout:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=gt.delegate;return((null==n?void 0:n.setTimeout)||setTimeout).apply(void 0,it([],ot(t)))},clearTimeout:function(t){var e=gt.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function mt(t){gt.setTimeout((function(){var e=bt.onUnhandledError;if(!e)throw t;e(t)}))}function wt(){}var St=xt("C",void 0,void 0);function xt(t,e,n){return{kind:t,value:e,error:n}}var kt=null;function Ct(t){if(bt.useDeprecatedSynchronousErrorHandling){var e=!kt;if(e&&(kt={errorThrown:!1,error:null}),t(),e){var n=kt,r=n.errorThrown,o=n.error;if(kt=null,r)throw o}}else t()}function Tt(t){bt.useDeprecatedSynchronousErrorHandling&&kt&&(kt.errorThrown=!0,kt.error=t)}var Pt=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,vt(e)&&e.add(n)):n.destination=Mt,n}return tt(e,t),e.create=function(t,e,n){return new Et(t,e,n)},e.prototype.next=function(t){this.isStopped?Dt(function(t){return xt("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?Dt(xt("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?Dt(St,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(pt),Et=function(t){function e(e,n,r){var o,i=t.call(this)||this;if(ct(e))o=e;else if(e){var s;o=e.next,n=e.error,r=e.complete,i&&bt.useDeprecatedNextContext?(s=Object.create(e)).unsubscribe=function(){return i.unsubscribe()}:s=e,o=null==o?void 0:o.bind(s),n=null==n?void 0:n.bind(s),r=null==r?void 0:r.bind(s)}return i.destination={next:o?_t(o,i):wt,error:_t(null!=n?n:At,i),complete:r?_t(r,i):wt},i}return tt(e,t),e}(Pt);function _t(t,e){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{t.apply(void 0,it([],ot(e)))}catch(r){bt.useDeprecatedSynchronousErrorHandling?Tt(r):mt(r)}}}function At(t){throw t}function Dt(t,e){var n=bt.onStoppedNotification;n&&gt.setTimeout((function(){return n(t,e)}))}var Mt={closed:!0,next:wt,error:At,complete:wt},Nt="function"==typeof Symbol&&Symbol.observable||"@@observable";function $t(t){return t}function It(t){return 0===t.length?$t:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var Yt=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r,o=this,i=(r=t)&&r instanceof Pt||function(t){return t&&ct(t.next)&&ct(t.error)&&ct(t.complete)}(r)&&vt(r)?t:new Et(t,e,n);return Ct((function(){var t=o,e=t.operator,n=t.source;i.add(e?e.call(i,n):n?o._subscribe(i):o._trySubscribe(i))})),i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=Ot(e))((function(e,r){var o;o=n.subscribe((function(e){try{t(e)}catch(n){r(n),null==o||o.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[Nt]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return It(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=Ot(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function Ot(t){var e;return null!==(e=null!=t?t:bt.Promise)&&void 0!==e?e:Promise}var jt=Array.isArray,Lt=Object.getPrototypeOf,Ht=Object.prototype,Ft=Object.keys;function qt(t){if(1===t.length){var e=t[0];if(jt(e))return{args:e,keys:null};if((r=e)&&"object"==typeof r&&Lt(r)===Ht){var n=Ft(e);return{args:n.map((function(t){return e[t]})),keys:n}}}var r;return{args:t,keys:null}}var Bt=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function zt(t){return ct(null==t?void 0:t.then)}function Wt(t){return ct(t[Nt])}function Vt(t){return Symbol.asyncIterator&&ct(null==t?void 0:t[Symbol.asyncIterator])}function Gt(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Rt="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Kt(t){return ct(null==t?void 0:t[Rt])}function Ut(t){return lt(this,arguments,(function(){var e,n,r;return nt(this,(function(o){switch(o.label){case 0:e=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,st(e.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,st(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,st(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function Jt(t){return ct(null==t?void 0:t.getReader)}function Qt(t){if(t instanceof Yt)return t;if(null!=t){if(Wt(t))return o=t,new Yt((function(t){var e=o[Nt]();if(ct(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(Bt(t))return r=t,new Yt((function(t){for(var e=0;e<r.length&&!t.closed;e++)t.next(r[e]);t.complete()}));if(zt(t))return n=t,new Yt((function(t){n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,mt)}));if(Vt(t))return Xt(t);if(Kt(t))return e=t,new Yt((function(t){var n,r;try{for(var o=rt(e),i=o.next();!i.done;i=o.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(l){n={error:l}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()}));if(Jt(t))return Xt(Ut(t))}var e,n,r,o;throw Gt(t)}function Xt(t){return new Yt((function(e){(function(t,e){var n,r,o,i;return et(this,void 0,void 0,(function(){var s,l;return nt(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=ut(t),u.label=1;case 1:return[4,n.next()];case 2:if((r=u.sent()).done)return[3,4];if(s=r.value,e.next(s),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=u.sent(),o={error:l},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))}))})(t,e).catch((function(t){return e.error(t)}))}))}function Zt(t,e,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=e.schedule((function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()}),r);if(t.add(i),!o)return i}function te(t){return function(e){if(function(t){return ct(null==t?void 0:t.lift)}(e))return e.lift((function(e){try{return t(e,this)}catch(n){this.error(n)}}));throw new TypeError("Unable to lift unknown Observable type")}}var ee=function(t){function e(e,n,r,o,i){var s=t.call(this,e)||this;return s.onFinalize=i,s._next=n?function(t){try{n(t)}catch(r){e.error(r)}}:t.prototype._next,s._error=o?function(t){try{o(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,s._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,s}return tt(e,t),e.prototype.unsubscribe=function(){var e,n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))},e}(Pt);function ne(t,e){return void 0===e&&(e=0),te((function(n,r){n.subscribe(new ee(r,(function(n){return Zt(r,t,(function(){return r.next(n)}),e)}),(function(){return Zt(r,t,(function(){return r.complete()}),e)}),(function(n){return Zt(r,t,(function(){return r.error(n)}),e)})))}))}function re(t,e){return void 0===e&&(e=0),te((function(n,r){r.add(t.schedule((function(){return n.subscribe(r)}),e))}))}function oe(t,e){if(!t)throw new Error("Iterable cannot be null");return new Yt((function(n){Zt(n,e,(function(){var r=t[Symbol.asyncIterator]();Zt(n,e,(function(){r.next().then((function(t){t.done?n.complete():n.next(t.value)}))}),0,!0)}))}))}function ie(t,e){if(null!=t){if(Wt(t))return function(t,e){return Qt(t).pipe(re(e),ne(e))}(t,e);if(Bt(t))return function(t,e){return new Yt((function(n){var r=0;return e.schedule((function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())}))}))}(t,e);if(zt(t))return function(t,e){return Qt(t).pipe(re(e),ne(e))}(t,e);if(Vt(t))return oe(t,e);if(Kt(t))return function(t,e){return new Yt((function(n){var r;return Zt(n,e,(function(){r=t[Rt](),Zt(n,e,(function(){var t,e,o;try{e=(t=r.next()).value,o=t.done}catch(i){return void n.error(i)}o?n.complete():n.next(e)}),0,!0)})),function(){return ct(null==r?void 0:r.return)&&r.return()}}))}(t,e);if(Jt(t))return function(t,e){return oe(Ut(t),e)}(t,e)}throw Gt(t)}function se(t,e){return e?ie(t,e):Qt(t)}var le=Array.isArray;function ue(t){return e=function(e){return function(t,e){return le(e)?t.apply(void 0,it([],ot(e))):t(e)}(t,e)},te((function(t,r){var o=0;t.subscribe(new ee(r,(function(t){r.next(e.call(n,t,o++))})))}));var e,n}function ce(t){return t[t.length-1]}function ae(t){return ct(ce(t))?t.pop():void 0}function de(t){return(e=ce(t))&&ct(e.schedule)?t.pop():void 0;var e}function fe(t,e){return t.reduce((function(t,n,r){return t[n]=e[r],t}),{})}function pe(t,e,n){return void 0===n&&(n=$t),function(r){he(e,(function(){for(var o=t.length,i=new Array(o),s=o,l=o,u=function(o){he(e,(function(){var u=se(t[o],e),c=!1;u.subscribe(new ee(r,(function(t){i[o]=t,c||(c=!0,l--),l||r.next(n(i.slice()))}),(function(){--s||r.complete()})))}),r)},c=0;c<o;c++)u(c)}),r)}}function he(t,e,n){t?Zt(n,t,e):e()}new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline","allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"]),new Set(["innerHTML","textContent","innerText","children"]),new Set(["beforeinput","click","dblclick","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]);function ve(t,e){return k(t,void 0,e?void 0:{equals:e})}function ye(t,e,n){let r=n.length,o=e.length,i=r,s=0,l=0,u=e[o-1].nextSibling,c=null;for(;s<o||l<i;)if(e[s]!==n[l]){for(;e[o-1]===n[i-1];)o--,i--;if(o===s){const e=i<r?l?n[l-1].nextSibling:n[i-l]:u;for(;l<i;)t.insertBefore(n[l++],e)}else if(i===l)for(;s<o;)c&&c.has(e[s])||t.removeChild(e[s]),s++;else if(e[s]===n[i-1]&&n[l]===e[o-1]){const r=e[--o].nextSibling;t.insertBefore(n[l++],e[s++].nextSibling),t.insertBefore(n[--i],r),e[o]=n[i]}else{if(!c){c=new Map;let t=l;for(;t<i;)c.set(n[t],t++)}const r=c.get(e[s]);if(null!=r)if(l<r&&r<i){let u,a=s,d=1;for(;++a<o&&a<i&&null!=(u=c.get(e[a]))&&u===r+d;)d++;if(d>r-l){const o=e[s];for(;l<r;)t.insertBefore(n[l++],o)}else t.replaceChild(n[l++],e[s++])}else s++;else t.removeChild(e[s++])}}else s++,l++}const be="_$DX_DELEGATE";function ge(t,e,n){let r;return m((o=>{r=o,ke(e,t(),e.firstChild?null:void 0,n)})),()=>{r(),e.textContent=""}}function me(t,e,n){const r=document.createElement("template");r.innerHTML=t;let o=r.content.firstChild;return n&&(o=o.firstChild),o}function we(t,e=window.document){const n=e[be]||(e[be]=new Set);for(let r=0,o=t.length;r<o;r++){const o=t[r];n.has(o)||(n.add(o),e.addEventListener(o,Ce))}}function Se(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function xe(t,e,n={}){const r=t.style;if(null==e||"string"==typeof e)return r.cssText=e;let o,i;for(i in"string"==typeof n&&(n={}),n)null==e[i]&&r.removeProperty(i),delete n[i];for(i in e)o=e[i],o!==n[i]&&(r.setProperty(i,o),n[i]=o);return n}function ke(t,e,n,r){if(void 0===n||r||(r=[]),"function"!=typeof e)return Te(t,e,r,n);x((r=>Te(t,e(),r,n)),r)}function Ce(t){const e=`$$${t.type}`;let n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get:()=>n});null!==n;){const r=n[e];if(r&&!n.disabled){const o=n[`${e}Data`];if(void 0!==o?r(o,t):r(t),t.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function Te(e,n,r,o,i){for(;"function"==typeof r;)r=r();if(n===r)return r;const s=typeof n,l=void 0!==o;if(e=l&&r[0]&&r[0].parentNode||e,"string"===s||"number"===s)if("number"===s&&(n=n.toString()),l){let t=r[0];t&&3===t.nodeType?t.data=n:t=document.createTextNode(n),r=_e(e,r,o,t)}else r=""!==r&&"string"==typeof r?e.firstChild.data=n:e.textContent=n;else if(null==n||"boolean"===s){if(t.context)return r;r=_e(e,r,o)}else{if("function"===s)return x((()=>{let t=n();for(;"function"==typeof t;)t=t();r=Te(e,t,r,o)})),()=>r;if(Array.isArray(n)){const s=[];if(Pe(s,n,i))return x((()=>r=Te(e,s,r,o,!0))),()=>r;if(t.context&&r&&r.length)return r;if(0===s.length){if(r=_e(e,r,o),l)return r}else Array.isArray(r)?0===r.length?Ee(e,s,o):ye(e,r,s):null==r||""===r?Ee(e,s):ye(e,l&&r||[e.firstChild],s);r=s}else if(n instanceof Node){if(Array.isArray(r)){if(l)return r=_e(e,r,o,n);_e(e,r,null,n)}else null!=r&&""!==r&&e.firstChild?e.replaceChild(n,e.firstChild):e.appendChild(n);r=n}}return r}function Pe(t,e,n){let r=!1;for(let o=0,i=e.length;o<i;o++){let i,s=e[o];if(s instanceof Node)t.push(s);else if(null==s||!0===s||!1===s);else if(Array.isArray(s))r=Pe(t,s)||r;else if("string"==(i=typeof s))t.push(document.createTextNode(s));else if("function"===i)if(n){for(;"function"==typeof s;)s=s();r=Pe(t,Array.isArray(s)?s:[s])||r}else t.push(s),r=!0;else t.push(document.createTextNode(s.toString()))}return r}function Ee(t,e,n){for(let r=0,o=e.length;r<o;r++)t.insertBefore(e[r],n)}function _e(t,e,n,r){if(void 0===n)return t.textContent="";const o=r||document.createTextNode("");if(e.length){let r=!1;for(let i=e.length-1;i>=0;i--){const s=e[i];if(o!==s){const e=s.parentNode===t;r||i?e&&t.removeChild(s):e?t.replaceChild(o,s):t.insertBefore(o,n)}else r=!0}}else t.insertBefore(o,n);return[o]}const Ae=36e5,De=6e4;function Me(t){return!!t&&/\d{6,6}/.test(t)}function Ne(t){if(!Me(t))throw new Error(`输入月份${t}不正确`);const e=new Date(`${t.slice(0,4)}/${t.slice(4)}/01`),n=new Date(e.getFullYear(),e.getMonth()+1,0);return[e,n]}function $e(t,e=new Date){let n={"([yY]+)":e.getFullYear(),"(M+)":e.getMonth()+1,"([dD]+)":e.getDate(),"([hH]+)":e.getHours(),"(m+)":e.getMinutes(),"(s+)":e.getSeconds(),"([qQ]+)":Math.floor((e.getMonth()+3)/3),"(S+)":e.getMilliseconds()};return Object.keys(n).forEach((e=>{if(new RegExp(e).test(t)){const r=n[e];let o=RegExp.$1;t=/y/i.test(o)||o.length>1?t.replace(o,`00${r}`.substr(-o.length)):t.replace(o,`00${r}`.substr(-`${r}`.length))}})),t}function Ie(t,e){const n=new Date(t);return n.setHours(e),n.setMinutes(0),n.setMinutes(0),n.setMilliseconds(0),n}const Ye={202010:{1:2,2:2,3:2,4:2,5:2,6:2,7:2,8:2,11:1,17:1,18:1,24:1,25:1,31:1},202011:{1:1,7:1,8:1,14:1,15:1,21:1,22:1,28:1,29:1},202012:{5:1,6:1,12:1,13:1,19:1,20:1,26:1,27:1},202101:{1:2,2:1,3:1,9:1,10:1,16:1,17:1,23:1,24:1,30:1,31:1},202102:{6:1,11:2,12:2,13:2,14:2,15:2,16:2,17:2,21:1,27:1,28:1},202103:{6:1,7:1,13:1,14:1,20:1,21:1,27:1,28:1},202104:{3:1,4:1,5:2,10:1,11:1,17:1,18:1,24:1},202105:{1:2,2:2,3:2,4:2,5:2,9:1,15:1,16:1,22:1,23:1,29:1,30:1},202106:{5:1,6:1,12:1,13:1,14:2,19:1,20:1,26:1,27:1},202107:{3:1,4:1,10:1,11:1,17:1,18:1,24:1,25:1,31:1},202108:{1:1,7:1,8:1,14:1,15:1,21:1,22:1,28:1,29:1},202109:{4:1,5:1,11:1,12:1,19:2,20:2,21:2,25:1},202110:{1:2,2:2,3:2,4:2,5:2,6:2,7:2,10:1,16:1,17:1,23:1,24:1,30:1,31:1},202111:{6:1,7:1,13:1,14:1,20:1,21:1,27:1,28:1},202112:{4:1,5:1,11:1,12:1,18:1,19:1,25:1,26:1}};function Oe(t){const{attendance:e}=t;let n=[...e],r={...t,workMillSeconds:0};return r.start=n.shift(),r.startStr=r.start?$e("YYYY-MM-DD HH:mm:ss",r.start):"",r.end=n.pop(),r.endStr=r.end?$e("YYYY-MM-DD HH:mm:ss",r.end):"",!r.start||!r.end||r.start.getHours()>=10?r.workMillSeconds=0:r.workMillSeconds=r.end.getTime()-r.start.getTime(),r}async function je(t,e){const[n,r]=Ne(e),o=await async function(t,e,n){if("undefined"!=typeof HT_ATTENDANCE_MOCK_DATA)return HT_ATTENDANCE_MOCK_DATA;const r=`https://oa.hengtonggroup.com.cn/kaizen/jsp/KaoQinResultData.jsp?r=0.03938942323541239&userNo=${t}&fromDate=${e}&toDate=${n}&_search=false&nd=${Date.now()}&rows=-1&page=1&sidx=ID&sord=asc`,o=await fetch(r);return(await o.json()).data}(t,$e("YYYY-MM-DD",n),$e("YYYY-MM-DD",r)),i=function(t,e){const n=e.map((({AttendanceDateTime:t})=>new Date(t))).reduce(((t,e)=>{const n=$e("YYYY-MM-DD",e);return t[n]=t[n]??[],t[n].push(e),t}),{}),r=[...t].map((({isWorkday:t,date:e,dateStr:r})=>({isWorkday:t,date:e,dateStr:r,attendance:(n[r]??[]).sort(((t,e)=>new Date(t)<new Date(e)?-1:1))}))).map(Oe),o=new Date;return r.filter((({date:t})=>t<new Date(o.getFullYear(),o.getMonth(),o.getDate()+1)))}(function(t){const[e,n]=Ne(t),r=[];let o=new Date(e);for(;o<=n;){const e=$e("D",o),n=0===(Ye[t][e]??0);r.push({isWorkday:n,date:new Date(o),dateStr:$e("YYYY-MM-DD",new Date(o))}),o.setDate(o.getDate()+1)}return r}(e),o);return i}function Le(t,e=2){return parseFloat(t.toFixed(e))}var He=at((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Fe=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return tt(e,t),e.prototype.lift=function(t){var e=new qe(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new He},e.prototype.next=function(t){var e=this;Ct((function(){var n,r;if(e._throwIfClosed(),!e.isStopped){var o=e.observers.slice();try{for(var i=rt(o),s=i.next();!s.done;s=i.next()){s.value.next(t)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}))},e.prototype.error=function(t){var e=this;Ct((function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var n=e.observers;n.length;)n.shift().error(t)}}))},e.prototype.complete=function(){var t=this;Ct((function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}}))},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,n=e.hasError,r=e.isStopped,o=e.observers;return n||r?ht:(o.push(t),new pt((function(){return ft(o,t)})))},e.prototype._checkFinalizedStatuses=function(t){var e=this,n=e.hasError,r=e.thrownError,o=e.isStopped;n?t.error(r):o&&t.complete()},e.prototype.asObservable=function(){var t=new Yt;return t.source=this,t},e.create=function(t,e){return new qe(t,e)},e}(Yt),qe=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return tt(e,t),e.prototype.next=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)},e.prototype.error=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:ht},e}(Fe);const Be=new Fe,ze="TAG_CHECK_IN";function We(){const t=localStorage.getItem(ze);if(!t)return{};try{return JSON.parse(t)}catch(e){return{}}}function Ve({date:t,type:e,value:n}){const r=We(),o=r[t]??{};o[e]=n,function(t){localStorage.setItem(ze,JSON.stringify(t)),Be.next({type:"tagCheckIn",value:t})}({...r,[t]:o})}const Ge="PERSONAL_LEAVE";function Re(){const t=localStorage.getItem(Ge);if(!t)return[];try{return JSON.parse(t)}catch(e){return[]}}function Ke(t){localStorage.setItem(Ge,JSON.stringify(t)),Be.next({type:"personalLeave",value:t})}function Ue(t){const e=Re(),n=e.indexOf(t);Ke(-1===n?[t,...e]:[...e.slice(0,n),...e.slice(n+1)])}const Je=me('<div><div><select class="form-control"></select><span>&nbsp;:&nbsp;</span><select class="form-control"></select><button type="button" class="btn btn-sm btn-primary">确定</button><button type="button" class="btn btn-sm">取消</button><button type="button" class="btn btn-sm btn-primary">清除</button></div></div>'),Qe=me("<option></option>");var Xe=t=>{const[e,n]=w(function([t,e,n]=[]){return[t??"00",e??"00",n]}(t.value)),r=new Array(24).fill(0).map(((t,e)=>{const n=`${e}`.padStart(2,"0");return{value:n,label:n}})),o=new Array(60).fill(0).map(((t,e)=>{const n=`${e}`.padStart(2,"0");return{value:n,label:n}})),i=(t,r)=>{const o=r.target?.value;if(console.log("==============handleValueChange====",{index:t,value:o,e:r}),null==o)return;const i=[...e()];i[t]=o,i[0]&&i[1]&&(i[2]=`${i[0]}:${i[1]}`),console.log("===========handleValueChange result=======",i),n(i)},s=()=>{const n=[...e()];n[2]&&t.onConfirm(n[2])},l=()=>{t.onClear()};return(()=>{const e=Je.cloneNode(!0),n=e.firstChild,u=n.firstChild,c=u.nextSibling.nextSibling,a=c.nextSibling,d=a.nextSibling,f=d.nextSibling;return n.style.setProperty("align-items","center"),n.style.setProperty("display","flex"),u.addEventListener("change",(t=>i(0,t))),u.style.setProperty("width","45px"),u.style.setProperty("font-size","16px"),ke(u,(()=>r.map((({label:t,value:e})=>(()=>{const n=Qe.cloneNode(!0);return n.value=e,ke(n,t),n})())))),c.addEventListener("change",(t=>i(1,t))),c.style.setProperty("width","45px"),c.style.setProperty("font-size","16px"),ke(c,(()=>o.map((({label:t,value:e})=>(()=>{const n=Qe.cloneNode(!0);return n.value=e,ke(n,t),n})())))),a.$$click=s,d.$$click=()=>{t.onClose()},f.$$click=l,x((e=>{const n=t.value?.[0],r=t.value?.[1];return n!==e._v$&&(u.value=e._v$=n),r!==e._v$2&&(c.value=e._v$2=r),e}),{_v$:void 0,_v$2:void 0}),e})()};we(["click"]);const Ze=me("<div></div>"),tn=me('<button type="button" class="btn btn-sm btn-warning">取消标记请假</button>'),en=me('<div><button type="button" class="btn btn-sm btn-primary">标记时间</button></div>'),nn=me('<button type="button" class="btn btn-sm btn-warning"></button>'),rn=me('<button type="button" class="btn btn-sm btn-warning">清除标记打卡</button>');var on;function sn(t,e=2,n="0"){if(null!=t)return`${t}`.padStart(e,n)}function ln({row:{isWorkday:t,isTagStartCheckIn:e,isTagEndCheckIn:n,start:r,end:o},type:i}){return t?"start"===i?{value:[sn(r?.getHours()),sn(r?.getMinutes()),r&&$e("hh:mm",r)],state:e?on.timePicker:on.action}:"end"===i?{value:[sn(o?.getHours()),sn(o?.getMinutes()),o&&$e("hh:mm",o)],state:n?on.timePicker:on.action}:void 0:{value:void 0,state:on.action}}!function(t){t.timePicker="timePicker",t.action="action",t.personalLeave="personalLeave"}(on||(on={}));var un=t=>{const[e,n]=w(t.row.isPersonalLeave?on.personalLeave:on.action),r=()=>{n(on.action)},o=e=>{Ve({date:t.row.dateStr,type:t.type,value:e}),n(on.action)},i=()=>{Ve({date:t.row.dateStr,type:t.type,value:void 0})};return(()=>{const s=Ze.cloneNode(!0);return ke(s,(()=>{const n=ve((()=>e()===on.personalLeave),!0);return()=>n()?(()=>{const e=tn.cloneNode(!0);return e.$$click=()=>{Ue(t.row.dateStr)},e})():null})(),null),ke(s,(()=>{const n=ve((()=>e()===on.timePicker),!0);return()=>n()?W(Xe,function(...t){return new Proxy({get(e){for(let n=t.length-1;n>=0;n--){const r=R(t[n])[e];if(void 0!==r)return r}},has(e){for(let n=t.length-1;n>=0;n--)if(e in R(t[n]))return!0;return!1},keys(){const e=[];for(let n=0;n<t.length;n++)e.push(...Object.keys(R(t[n])));return[...new Set(e)]}},G)}((()=>({value:ln(t)?.value,onClose:r,onConfirm:o,onClear:i})))):null})(),null),ke(s,(()=>{const r=ve((()=>e()===on.action),!0);return()=>r()?(()=>{const e=en.cloneNode(!0),r=e.firstChild;return e.style.setProperty("display","flex"),e.style.setProperty("align-items","center"),r.$$click=()=>{n(on.timePicker)},ke(e,(()=>{const e=ve((()=>!(!t.row.isWorkday||t.row.isTagStartCheckIn||t.row.isTagEndCheckIn)),!0);return()=>e()?(()=>{const e=nn.cloneNode(!0);return e.$$click=()=>{Ue(t.row.dateStr)},ke(e,(()=>t.row.isPersonalLeave?"取消标记请假":"标记为请假")),e})():null})(),null),ke(e,(()=>{const e=ve((()=>!(!t.row.isWorkday||!t.row.isTagStartCheckIn&&!t.row.isTagEndCheckIn)),!0);return()=>e()?(()=>{const t=rn.cloneNode(!0);return t.$$click=()=>{i()},t})():null})(),null),e})():null})(),null),s})()};we(["click"]);const cn=me("<div></div>"),an=me('<span data-bs-toggle="tooltip" data-bs-placement="top" title="标记的打卡时间, 需要手动申请补卡哦"><span></span></span>'),dn=me("<details><summary>详情</summary></details>"),fn=me("<br>"),pn=[{title:"星期",dataIndex:"dateStr",render:t=>"日一二三四五六".charAt(new Date(t).getDay())},{title:"是否为工作日",dataIndex:"isWorkday",render:t=>t?"是":"否"},{title:"工作时长(小时)",dataIndex:"workMillSeconds",render:t=>{if(0===t)return"";const[e,n]=(t/36e5).toFixed(2).split(".");return`${e}小时${(60*parseInt(n,10)/100).toFixed(0)}分钟`}},{title:"打卡开始",dataIndex:"startStr",render:(t,e)=>{const n=e.isPersonalLeave||e.isTagStartCheckIn||e.isAbsenteeism;return(()=>{const r=cn.cloneNode(!0);return r.style.setProperty("display","flex"),r.style.setProperty("align-items","center"),r.style.setProperty("justify-content","space-between"),ke(r,(()=>{const n=ve((()=>!e.isTagStartCheckIn),!0);return()=>n()?t?.substring(11):(()=>{const e=an.cloneNode(!0),n=e.firstChild;return e.style.setProperty("cursor","pointer"),n.style.setProperty("color","red"),ke(n,(()=>t?.substring(11))),e})()})(),null),ke(r,n?(()=>{const n=cn.cloneNode(!0);return ke(n,W(un,{row:e,value:t,type:"start"})),n})():null,null),r})()}},{title:"打卡结束",dataIndex:"endStr",style:{width:"250px"},render:(t,e)=>{const n=e.isPersonalLeave||e.isTagEndCheckIn||e.isAbsenteeism;return(()=>{const r=cn.cloneNode(!0);return r.style.setProperty("display","flex"),r.style.setProperty("align-items","center"),r.style.setProperty("justify-content","space-between"),ke(r,(()=>{const n=ve((()=>!e.isTagEndCheckIn),!0);return()=>n()?t?.substring(11):(()=>{const e=an.cloneNode(!0),n=e.firstChild;return e.style.setProperty("cursor","pointer"),n.style.setProperty("color","red"),ke(n,(()=>t?.substring(11))),e})()})(),null),ke(r,n?(()=>{const n=cn.cloneNode(!0);return ke(n,W(un,{row:e,value:t,type:"end"})),n})():null,null),r})()}},{title:"打卡记录",dataIndex:"attendance",style:{width:"150px"},render:t=>t.length?(()=>{const e=dn.cloneNode(!0);e.firstChild;return ke(e,(()=>t.map((t=>new Date(t))).map((t=>$e("hh:mm:ss",t))).map((t=>[t," ",fn.cloneNode(!0)]))),null),e})():""}],hn=[{title:"缺勤详细",dataIndex:"dateStr"},...pn],vn=[{title:"加班详细",dataIndex:"dateStr"},...pn],yn=[{title:"日期",dataIndex:"dateStr"},...pn],bn=me('<div><div class="btn btn-link text-danger" data-bs-toggle="collapse" aria-expanded="false" aria-controls="absenteeismCollapse"></div><div class="collapse row"></div></div>');var gn=({title:t,content:e})=>{const n=`collapse-${Math.random().toString(36).slice(2)}`;return(()=>{const r=bn.cloneNode(!0),o=r.firstChild,i=o.nextSibling;return o.style.setProperty("padding","0"),Se(o,"data-bs-target",`#${n}`),ke(o,t),Se(i,"id",n),ke(i,e),r})()};const mn=me('<table class="table table-bordered align-middle"><thead><tr></tr></thead><tbody></tbody></table>'),wn=me('<th scope="col"></th>'),Sn=me("<tr></tr>"),xn=me("<td></td>");var kn=({columns:t,rows:e})=>(()=>{const n=mn.cloneNode(!0),r=n.firstChild,o=r.firstChild,i=r.nextSibling;return ke(o,(()=>t.map((({title:t})=>(()=>{const e=wn.cloneNode(!0);return ke(e,t),e})())))),ke(i,(()=>e.map(((e,n)=>{const r=function(t){return t.isPersonalLeave?{background:"#c29ffa"}:t.workMillSeconds>0&&!t.isWorkday?{background:"#20c997"}:t.workMillSeconds<Ae&&t.isWorkday?{background:"#EA868F"}:t.workMillSeconds<Ae&&!t.isWorkday?{background:"#F8F9FA"}:t.workMillSeconds<36e6?{background:"#FFF3CD"}:{}}(e);return(()=>{const o=Sn.cloneNode(!0);return xe(o,r),ke(o,(()=>t.map((({dataIndex:t,render:r,style:o})=>{const i=e[t];return r?(()=>{const t=xn.cloneNode(!0);return xe(t,o),ke(t,(()=>r(i,e,n))),t})():(()=>{const t=xn.cloneNode(!0);return xe(t,o),ke(t,i),t})()})))),o})()})))),n})();const Cn=me('<div class="row"><div class="col-3"></div><div class="col"><div class="btn btn-link text-danger" data-bs-toggle="collapse" data-bs-target="#absenteeismCollapse" aria-expanded="false" aria-controls="absenteeismCollapse"></div><div class="collapse" id="absenteeismCollapse"></div></div></div>');var Tn=({title:t,dateStr:e,rows:n,columns:r})=>(()=>{const o=Cn.cloneNode(!0),i=o.firstChild,s=i.nextSibling,l=s.firstChild,u=l.nextSibling;return ke(i,t),ke(s,(()=>n?.length?"":e),l),l.style.setProperty("padding","0"),ke(l,(()=>e?.split(",")?.map((t=>[t,"  "])))),ke(u,W(kn,{rows:n,columns:r})),x((()=>l.style.setProperty("display",n?.length?"inline-block":"none"))),o})();const Pn=me('<div class="row"></div>'),En=me("<div></div>"),_n=({needBKList:t})=>(()=>{const e=Pn.cloneNode(!0);return ke(e,(()=>t.map((({dateStr:t,isTagStartCheckIn:e,start:n,isTagEndCheckIn:r,end:o})=>{let i=[];return!n||n.getHours()>10?i.push(`${t} 早上`):e&&i.push($e("YYYY-MM-DD HH:mm:ss",n)),!o||o.getHours()<10?i.push(`${t} 晚上`):r&&i.push($e("YYYY-MM-DD HH:mm:ss",o)),(()=>{const t=En.cloneNode(!0);return ke(t,(()=>i.join("~~"))),t})()})))),e})(),An=me('<div class="row"></div>'),Dn=me("<span></span>");var Mn=({leaveList:t})=>(()=>{const e=An.cloneNode(!0);return ke(e,(()=>t.map((({dateStr:t})=>(()=>{const e=Dn.cloneNode(!0);return ke(e,t),e})())))),e})();const Nn=me('<div><div style="display: flex;justify-content: flex-end; position: fixed; top: 10px; right: 60px;"><button class="btn btn-secondary">关闭</button></div><div class="row"><div class="col-3">月盈亏 <span>( =实际工作 - 应该工作 )</span></div><div class="col text-primary"></div></div><div class="row"><div class="col-3">实际工作</div><div class="col"></div></div><div class="row"><div class="col-3">应该工作</div><div class="col"></div></div><div class="row"><div class="col-3">今日打卡</div><div class="col"></div></div><div></div></div>'),$n=me('<div class="row"><div class="col-3">补卡</div><div class="col"></div></div>'),In=me('<div class="row"><div class="col-3">请假</div><div class="col"></div></div>');var Yn=({raw:t})=>{if(!t)return null;const{restStr:e,realStr:n,needStr:r,todayStr:o,absenteeismList:i,absenteeismStr:s,overtimeList:l,overtimeStr:u,dayAttendances:c}=t,a=c.filter((({isPersonalLeave:t,isTagStartCheckIn:e,isTagEndCheckIn:n,isAbsenteeism:r,isWorkday:o})=>!t&&(!(!e&&!n)||!(!o||!r)))),d=c.filter((({isPersonalLeave:t})=>t));return(()=>{const t=Nn.cloneNode(!0),f=t.firstChild,p=f.firstChild,h=f.nextSibling,v=h.firstChild,y=v.firstChild.nextSibling,b=v.nextSibling,g=h.nextSibling,m=g.firstChild.nextSibling,w=g.nextSibling,S=w.firstChild.nextSibling,x=w.nextSibling,k=x.firstChild.nextSibling,C=x.nextSibling;return p.$$click=()=>{Be.next({type:"close"})},h.style.setProperty("margin-bottom","10px"),h.style.setProperty("margin-top","20px"),h.style.setProperty("display","flex"),h.style.setProperty("align-items","center"),y.style.setProperty("fontSize","14px"),b.style.setProperty("font-size","30px"),ke(b,e),ke(m,n),ke(S,r),ke(k,o),ke(t,W(Tn,{title:"缺勤(未标记时间/请假)",dateStr:s,rows:i,columns:hn}),C),ke(t,W(Tn,{title:"加班",dateStr:u,rows:l,columns:vn}),C),ke(t,(()=>{const t=ve((()=>!!a?.length),!0);return()=>t()?(()=>{const t=$n.cloneNode(!0);return ke(t.firstChild.nextSibling,W(gn,{title:"请根据实际情况补卡",get content(){return W(_n,{needBKList:a})}})),t})():null})(),C),ke(t,(()=>{const t=ve((()=>!!d?.length),!0);return()=>t()?(()=>{const t=In.cloneNode(!0);return ke(t.firstChild.nextSibling,W(gn,{title:"请根据实际情况请假",get content(){return W(Mn,{leaveList:d})}})),t})():null})(),C),C.style.setProperty("display","flex"),C.style.setProperty("width","100%"),C.style.setProperty("margin-top","30px"),ke(t,W(kn,{rows:c,columns:[...yn]}),null),t})()};function On(t,e){if(e)return new Date(`${t} ${e}:00`)}function jn(){const t=function(){const t=document.querySelector("#ht-attendance-container");if(t)return t;const e=document.createElement("div");return e.id="ht-attendance-container",e.setAttribute("style","position: fixed; top:0; right: 0; bottom: 0; left: 0; overflow: scroll;    background-color: white; z-index: 999998; padding: 0 100px;"),document.body.appendChild(e),e}(),e=document.createElement("div");e.id="ht-attendance-root";const n=document.querySelector("#ht-attendance-root");return t.appendChild(e),n&&t.removeChild(n),e}we(["click"]),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=de(t),r=ae(t),o=qt(t),i=o.args,s=o.keys;if(0===i.length)return se([],n);var l=new Yt(pe(i,n,s?function(t){return fe(s,t)}:$t));return r?l.pipe(ue(r)):l}([se(async function(){const{userNo:t,monthStr:e}=function(){if("undefined"!=typeof HT_ATTENDANCE_MOCK_DATA)return{userNo:"0",monthStr:"202111"};const t=prompt("请输入计算月份, 如 202101, 确定后请等待3秒左右",$e("YYYYMM",new Date));if(!t||!Me(t))throw alert(`输入月份${t}不正确`),new Error(`${t}`);const e=document.querySelector(".wea-watremark-mark")?.innerText?.match(/\d{10,10}/)?.[0];if(!e)throw alert("无法获取 userNo, 请反馈"),new Error("userNo");return{monthStr:t,userNo:e}}();return await je(t,e)}()),Be]).subscribe((([t,e])=>{if(console.log("============rerender by======",e),"close"===e?.type)return void function(){const t=document.querySelector("#ht-attendance-container");t&&document.body.removeChild(t)}();const n=function(t,e=8,n=2){const r=e+n;let o,i=0,s=0,l=0,u=[],c=[],a=[];const d=$e("YYYY-MM-DD");t[t.length-1]?.dateStr===d&&(o=t.pop()),t.forEach((t=>{const{isWorkday:e,isPersonalLeave:n,isTagStartCheckIn:o,isTagEndCheckIn:d,isAbsenteeism:f,isOverTime:p,dateStr:h,workMillSeconds:v}=t;e?(i+=r*Ae,n?s+=r*Ae:f&&(o||d)?s+=v:f?(c.push(h),u.push(t)):s+=v):p&&(l+=v,a.push(t))}));const f=Le(l/Ae),p=Le(i/Ae),h=Le(s/Ae),v=Le(l/De),y=Le(i/De),b=Le(s/De),g=Le((s-i)/De),m=Le(g/60);let w;if(o){const t=[o?.startStr,o?.endStr].filter((t=>t)).join("~~~~");w=o.isWorkday?t||"未查询到打卡记录":"非工作日"}return{dayAttendances:t,todayRecord:o,todayStr:w,absenteeismList:u,absenteeismDate:c,absenteeismStr:c.length?c.join(", "):"无",overtimeList:a,addHours:f,addMinutes:v,overtimeStr:`${v}分钟 ~= ${f}小时 ~= ${Le(f/r)}天`,needHours:p,needMinutes:y,needStr:`${y}分钟 ~= ${p}小时 ~= ${Le(p/r)}天 (${e}工作小时 + ${n} 休息小时)`,realHours:h,realMinutes:b,realStr:`${b}分钟 ~= ${h}小时 ~= ${Le(h/r)}天`,restMinutes:g,restStr:`${g}分钟 ~= ${m} 小时 `}}(function(t){const e=Re(),n=We();return t.map((t=>{let{dateStr:r,workMillSeconds:o,isWorkday:i,start:s,end:l,startStr:u,endStr:c,...a}=t;const d=On(r,n[r]?.start),f=On(r,n[r]?.end),p=function({start:t,end:e,tagStart:n,tagEnd:r}){let o=r??e,i=n??t;if(o&&i&&!(o.getTime()<i.getTime()))return o.getTime()-i.getTime()}({start:s,end:l,tagStart:d,tagEnd:f}),h=!!d,v=!!f,y=function(t,e){return t.includes(e)}(e,r);let b={};return y?(b.start=s,b.end=l,b.workMillSeconds=o,s=Ie(new Date(r),8),l=Ie(new Date(r),18),o=36e6):(d&&(b.start=s,s=d),f&&(b.end=l,l=f),(d||f)&&(b.workMillSeconds=o,o=p??0)),u=s?$e("YYYY-MM-DD HH:mm:ss",s):"",c=l?$e("YYYY-MM-DD HH:mm:ss",l):"",{isPersonalLeave:y,isTagStartCheckIn:h,isTagEndCheckIn:v,isAbsenteeism:i&&o<=Ae,isOverTime:!i&&o>0,dateStr:r,workMillSeconds:o,isWorkday:i,start:s,end:l,startStr:u,endStr:c,...a}}))}(t));console.log("=======raw data===========",n),ge((()=>W(Yn,{raw:n})),jn()),setTimeout((()=>{!function(){let t=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(t){return new bootstrap.Tooltip(t)}));console.log("=================tooltipList=",t)}()}),500)})),Be.next({type:"init"})}();
//# sourceMappingURL=index.cf9cc679.js.map